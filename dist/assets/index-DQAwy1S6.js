import{m as b,p as k,_ as w,r as f,a as C,l as j,o as i,c as u,f as c,e as O,t as m,q as R,s as y,F as $,h as B,i as N}from"./index-C2uojJ5R.js";var V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g(e){if(e.__esModule)return e;var l=e.default;if(typeof l=="function"){var t=function n(){return this instanceof n?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};t.prototype=l.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}const A=g(b),I=g(k),M={class:"upload"},P=["accept","multiple"],S={key:0,class:""},F={key:0,class:"upload-list"},q=["onClick"],D={__name:"index",props:{borderRadius:{type:[String,Number],default:"15"},info:{type:String,default:"点击上传文件"},limit:{type:Number,default:9},multiple:{type:Boolean,default:!1},accept:{type:String,default:""},needList:{type:Boolean,default:!1}},emits:["change"],setup(e,{emit:l}){const t=f(null),n=f(null);C(()=>{n.value.style.setProperty("--gray1",e.borderRadius+"px")});const o=l,h=()=>{t.value.click()},a=f([]),v=s=>{a.value=Array.from(s.target.files),e.limit===1||!e.multiple?o("change",a.value[0]):o("change",a.value)},_=s=>{const p=a.value.findIndex(d=>d.name===s.name);a.value.splice(p,1),o("change",a.value)};return(s,p)=>{const d=j("svg-icon");return i(),u("div",M,[c("div",{ref_key:"uploadRef",ref:n,class:"my-upload",onClick:y(h,["stop"])},[c("input",{ref_key:"fileRef",ref:t,accept:e.accept,type:"file",name:"",id:"",multiple:e.multiple,onChange:v},null,40,P),O(d,{name:"file",width:"35",height:"35"}),s.$slots.default?R(s.$slots,"default",{key:1},void 0,!0):(i(),u("span",S,m(e.info),1))],512),e.needList?(i(),u("div",F,[(i(!0),u($,null,B(a.value,r=>(i(),u("div",{key:r.name,class:"upload-item"},[c("span",null,m(r.name.length<=35?r.name:r.name.slice(0,25)+"....."+r.name.substr(-4)),1),c("span",{class:"icon",onClick:y(E=>_(r),["stop"])},null,8,q)]))),128))])):N("",!0)])}}},T=w(D,[["__scopeId","data-v-b815f1f1"]]);export{I as a,V as c,x as g,T as m,A as r};
